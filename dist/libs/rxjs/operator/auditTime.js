"use strict";function auditTime(t,e){return void 0===e&&(e=async_1.async),this.lift(new AuditTimeOperator(t,e))}function dispatchNext(t){t.clearThrottle()}var __extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},async_1=require("../scheduler/async"),Subscriber_1=require("../Subscriber");exports.auditTime=auditTime;var AuditTimeOperator=function(){function t(t,e){this.duration=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new AuditTimeSubscriber(t,this.duration,this.scheduler))},t}(),AuditTimeSubscriber=function(t){function e(e,i,r){t.call(this,e),this.duration=i,this.scheduler=r,this.hasValue=!1}return __extends(e,t),e.prototype._next=function(t){this.value=t,this.hasValue=!0,this.throttled||this.add(this.throttled=this.scheduler.schedule(dispatchNext,this.duration,this))},e.prototype.clearThrottle=function(){var t=this,e=t.value,i=t.hasValue,r=t.throttled;r&&(this.remove(r),this.throttled=null,r.unsubscribe()),i&&(this.value=null,this.hasValue=!1,this.destination.next(e))},e}(Subscriber_1.Subscriber);