"use strict";function switchMapTo(t,e){return this.lift(new SwitchMapToOperator(t,e))}var __extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},OuterSubscriber_1=require("../OuterSubscriber"),subscribeToResult_1=require("../util/subscribeToResult");exports.switchMapTo=switchMapTo;var SwitchMapToOperator=function(){function t(t,e){this.observable=t,this.resultSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new SwitchMapToSubscriber(t,this.observable,this.resultSelector))},t}(),SwitchMapToSubscriber=function(t){function e(e,r,i){t.call(this,e),this.inner=r,this.resultSelector=i,this.index=0}return __extends(e,t),e.prototype._next=function(t){var e=this.innerSubscription;e&&e.unsubscribe(),this.add(this.innerSubscription=subscribeToResult_1.subscribeToResult(this,this.inner,t,this.index++))},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,r,i,o){var s=this,n=s.resultSelector,u=s.destination;n?this.tryResultSelector(t,e,r,i):u.next(e)},e.prototype.tryResultSelector=function(t,e,r,i){var o,s=this,n=s.resultSelector,u=s.destination;try{o=n(t,e,r,i)}catch(t){return void u.error(t)}u.next(o)},e}(OuterSubscriber_1.OuterSubscriber);