"use strict";function throttleTime(t,e){return void 0===e&&(e=async_1.async),this.lift(new ThrottleTimeOperator(t,e))}function dispatchNext(t){var e=t.subscriber;e.clearThrottle()}var __extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Subscriber_1=require("../Subscriber"),async_1=require("../scheduler/async");exports.throttleTime=throttleTime;var ThrottleTimeOperator=function(){function t(t,e){this.duration=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new ThrottleTimeSubscriber(t,this.duration,this.scheduler))},t}(),ThrottleTimeSubscriber=function(t){function e(e,r,i){t.call(this,e),this.duration=r,this.scheduler=i}return __extends(e,t),e.prototype._next=function(t){this.throttled||(this.add(this.throttled=this.scheduler.schedule(dispatchNext,this.duration,{subscriber:this})),this.destination.next(t))},e.prototype.clearThrottle=function(){var t=this.throttled;t&&(t.unsubscribe(),this.remove(t),this.throttled=null)},e}(Subscriber_1.Subscriber);