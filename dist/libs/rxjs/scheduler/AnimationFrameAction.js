"use strict";var __extends=this&&this.__extends||function(n,t){function e(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)},AsyncAction_1=require("./AsyncAction"),AnimationFrame_1=require("../util/AnimationFrame"),AnimationFrameAction=function(n){function t(t,e){n.call(this,t,e),this.scheduler=t,this.work=e}return __extends(t,n),t.prototype.requestAsyncId=function(t,e,i){return void 0===i&&(i=0),null!==i&&i>0?n.prototype.requestAsyncId.call(this,t,e,i):(t.actions.push(this),t.scheduled||(t.scheduled=AnimationFrame_1.AnimationFrame.requestAnimationFrame(t.flush.bind(t,null))))},t.prototype.recycleAsyncId=function(t,e,i){return void 0===i&&(i=0),null!==i&&i>0||null===i&&this.delay>0?n.prototype.recycleAsyncId.call(this,t,e,i):void(0===t.actions.length&&(AnimationFrame_1.AnimationFrame.cancelAnimationFrame(e),t.scheduled=void 0))},t}(AsyncAction_1.AsyncAction);exports.AnimationFrameAction=AnimationFrameAction;