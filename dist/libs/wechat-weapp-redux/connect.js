"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function connect(t,e){var r=Boolean(t),a=t||defaultMapStateToProps,o=getApp(),n=void 0;return n="function"==typeof e?e:e?(0,_wrapActionCreators2.default)(e):defaultMapDispatchToProps,function(t){function e(t){if(this.unsubscribe){var e=this.store.getState(),r=a(e,t);this.data&&!(0,_shallowEqual2.default)(this.data,r)&&this.setData(r)}}function i(t){this.store=o.store,this.store||(0,_warning2.default)("Store对象不存在!"),r&&(this.unsubscribe=this.store.subscribe(e.bind(this,t)),e.apply(this,[t])),"function"==typeof u&&u.call(this,t)}function s(){"function"==typeof l&&l.call(this),"function"==typeof this.unsubscribe&&this.unsubscribe()}var u=t.onLoad,l=t.onUnload;return(0,_Object.assign)(t,n(o.store.dispatch),{onLoad:i,onUnload:s})}}var _shallowEqual=require("./shallowEqual.js"),_shallowEqual2=_interopRequireDefault(_shallowEqual),_warning=require("./warning.js"),_warning2=_interopRequireDefault(_warning),_wrapActionCreators=require("./wrapActionCreators.js"),_wrapActionCreators2=_interopRequireDefault(_wrapActionCreators),_Object=require("./utils/Object.js"),defaultMapStateToProps=function(t){return{}},defaultMapDispatchToProps=function(t){return{dispatch:t}};module.exports=connect;